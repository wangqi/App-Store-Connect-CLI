# Contributing

Thanks for your interest in contributing to ASC (App Store Connect CLI).

## Development Setup

Requirements:
- Go 1.24+

Clone and build:
```bash
git clone https://github.com/rudrankriyam/App-Store-Connect-CLI.git
cd App-Store-Connect-CLI
make build
```

Run tests:
```bash
go test ./...
```

Optional tooling:
```bash
make tools   # installs gofumpt + golangci-lint
make lint    # uses golangci-lint if installed, else go vet
make format  # gofmt + gofumpt (requires gofumpt; install with make tools)
```

## Integration Tests (Opt-in)

Integration tests hit the real App Store Connect API and are skipped by default.
Set credentials in your environment and run:

```bash
export ASC_KEY_ID="YOUR_KEY_ID"
export ASC_ISSUER_ID="YOUR_ISSUER_ID"
export ASC_PRIVATE_KEY_PATH="/path/to/AuthKey.p8"
export ASC_APP_ID="YOUR_APP_ID"

make test-integration
```

Headless alternative (write the key to a temp file at runtime):
```bash
export ASC_PRIVATE_KEY_B64="BASE64_KEY"
```

## Local API Testing (Optional)

If you have App Store Connect API credentials, you can run real API calls locally:

```bash
export ASC_KEY_ID="YOUR_KEY_ID"
export ASC_ISSUER_ID="YOUR_ISSUER_ID"
export ASC_PRIVATE_KEY_PATH="/path/to/AuthKey.p8"
export ASC_APP_ID="YOUR_APP_ID"

asc feedback --app "$ASC_APP_ID"
asc crashes --app "$ASC_APP_ID"
asc reviews --app "$ASC_APP_ID"
```

Credentials are stored in the system keychain when available, with a config fallback at
`~/.asc/config.json` (restricted permissions). A repo-local `./.asc/config.json` is also supported.
Do not commit secrets.

## Pull Request Guidelines

- Keep PRs small and focused.
- Add or update tests for new behavior.
- Update `README.md` if behavior or scope changes.
- Avoid committing any credentials or `.p8` files.

## Security

If you find a security issue, please report it responsibly by opening a private issue
or contacting the maintainer directly.

## Wall of Apps

Wall content is generated by `make update-wall-of-apps` (Go tool at `tools/update-wall-of-apps`).
The generator reads `docs/wall-of-apps.json` and updates:
- `docs/generated/app-wall.md`
- the Wall snippet in `README.md`

To add your app:

1. Fork the repo
2. Add an entry to `docs/wall-of-apps.json`
3. Run `make update-wall-of-apps`
4. Open a PR

Format:
```json
{
  "app": "App Name",
  "link": "https://apps.apple.com/app/id...",
  "creator": "Creator Name",
  "platform": ["iOS", "macOS"]
}
```
